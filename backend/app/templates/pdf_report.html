<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question Paper Format</title>
    <link rel="stylesheet">

    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            padding: 0px 20px;
        }

        /* header {
            text-align: center;
        } */

        h2,
        h3,
        p {
            margin: 5px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th,
        td {
            border: 1px solid black;
            padding: 10px;

        }

        thead {
            font-weight: bold;
        }

        footer {
            margin-top: 70px;
            display: flex;
            justify-content: space-between;
        }

        .img_question {
            width: 300px;
            height: auto;
            max-height: 200px;
            display: block;
            margin: 0 auto;
        }
    </style>
</head>

<body>
    <header>
        <div style="width: 100%; margin-bottom: 20px;margin-left: 20px;">
            <div style="width: 100%;">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSd4sxdIQ8AxzcsByDAJd-Kr53LtTONc7ft3Q&s"
                    alt="" width="100" height="90">
            </div>
            <div style="width: 80%; margin-left: 40px;margin-top: -90px; position: absolute; text-align: center;">
                <h2>SREE SOWDAMBIKA COLLEGE OF ENGINEERING</h2>
                <p>Chettikurichi, Aruppukottai</p>
                <p>DEPARTMENT OF {{subjects.0.Department}}</p>

            </div>
        </div>
        <div style="width: 100%;">
            <div style="float: left;width: 50%; ">
                <p>{{subjects.0.subject_code}} {{subjects.0.subject_name}}</p>
                <p>Date: {{subjects.0.date}} {{subjects.0.Time}}({{subjects.0.session}})</p>
            </div>
            <div style="float: right;width: 50%;">
                <p>Branch/Year/Semester: {{subjects.0.branch}}/{{subjects.0.year}}/{{subjects.0.semester}}</p>
                <p>Course Instructor Name & Dept.: {{subjects.0.course_instructor}}</p>
            </div>
        </div>
    </header>

    <table>

        <tbody id="questions-body">
            <!-- Render questions dynamically here -->
            <tr>
                <th colspan="2">Part A (7 X 2 = 14 marks)</th>
                <th> </th>
            </tr>
            <tr>
                <td>1</td>
                <td>
                    {{questions.0.question_text}} <br>
                    {% if questions.0.image_base64 %}
                    <img src="{{ questions.0.image_base64 }}" alt="Question Image" class="img_question">
                    {% endif %}
                </td>
                <td>{{questions.0.BTlevel_COs}}</td>
            </tr>
            <tr>
                <td>2</td>
                <td>
                    {{questions.1.question_text}} <br>
                    {% if questions.1.image_base64 %}
                    <img src="{{ questions.1.image_base64 }}" alt="Question Image" class="img_question">
                    {% endif %}
                </td>
                <td>{{questions.1.BTlevel_COs}}</td>
            </tr>
            <tr>
                <td>3</td>
                <td>
                    {{questions.2.question_text}} <br>
                    {% if questions.2.image_base64 %}
                    <img src="{{ questions.2.image_base64 }}" alt="Question Image" class="img_question">
                    {% endif %}
                </td>
                <td>{{questions.2.BTlevel_COs}}</td>
            </tr>
            <tr>
                <td>4</td>
                <td>
                    {{questions.3.question_text}} <br>
                    {% if questions.3.image_base64 %}
                    <img src="{{ questions.3.image_base64 }}" alt="Question Image" class="img_question">
                    {% endif %}
                </td>
                <td>{{questions.3.BTlevel_COs}}</td>
            </tr>
            <tr>
                <td>5</td>
                <td>
                    {{questions.4.question_text}} <br>
                    {% if questions.4.image_base64 %}
                    <img src="{{ questions.4.image_base64 }}" alt="Question Image" class="img_question">
                    {% endif %}
                </td>
                <td>{{questions.4.BTlevel_COs}}</td>
            </tr>
            <tr>
                <td>6</td>
                <td>
                    {{questions.5.question_text}} <br>
                    {% if questions.5.image_base64 %}
                    <img src="{{ questions.5.image_base64 }}" alt="Question Image" class="img_question">
                    {% endif %}
                </td>
                <td>{{questions.5.BTlevel_COs}}</td>
            </tr>
            <tr>
                <td>7</td>
                <td>
                    {{questions.6.question_text}} <br>
                    {% if questions.6.image_base64 %}
                    <img src="{{ questions.6.image_base64 }}" alt="Question Image" class="img_question">
                    {% endif %}
                </td>
                <td>{{questions.6.BTlevel_COs}}</td>
            </tr>
            <tr>
                <th colspan="3">Part B</th>
            </tr>
            <tr>
                <td>8</td>
                <td>
                    {{questions.7.question_text}} <br>
                    {% if questions.7.image_base64 %}
                    <img src="{{ questions.7.image_base64 }}" alt="Question Image" class="img_question">
                    {% endif %}
                </td>
                <td>{{questions.7.BTlevel_COs}}<br>8 marks</td>
            </tr>
            <tr>
                <td>9</td>
                <td>
                    {{questions.8.question_text}} <br>
                    {% if questions.8.image_base64 %}
                    <img src="{{ questions.8.image_base64 }}" alt="Question Image" class="img_question">
                    {% endif %}
                </td>
                <td>{{questions.8.BTlevel_COs}}<br>13 marks</td>
            </tr>
            <tr>
                <th colspan="3">Part C</th>
            </tr>
            <tr>
                <td>10</td>
                <td>
                    {{questions.9.question_text}} <br>
                    {% if questions.9.image_base64 %}
                    <img src="{{ questions.9.image_base64 }}" alt="Question Image" class="img_question">
                    {% endif %}
                </td>
                <td>{{questions.9.BTlevel_COs}}<br>15 marks</td>
            </tr>
        </tbody>
    </table>
    <script>
        // JavaScript logic to display the base64 image if required
        function displayImages() {
            const rows = document.querySelectorAll('#questions-body tr');

            rows.forEach(row => {
                const td = row.querySelector('td[data-image]');
                const imageUrl = td.getAttribute('data-image');

                if (imageUrl && imageUrl.startsWith("data:image/")) {
                    const img = document.createElement('img');
                    img.src = imageUrl;
                    img.alt = "Question Image";
                    img.width = 90; // Set image width
                    td.appendChild(img); // Append the image if it loads successfully
                } else {
                    console.error("Invalid or missing image URL:", imageUrl);
                }
            });
        }

        // Call the function to display images if necessary
        displayImages();
    </script>
</body>

</html>